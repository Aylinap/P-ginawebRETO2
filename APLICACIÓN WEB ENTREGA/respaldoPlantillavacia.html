<main>
    <!-- Pelicula Principal-->
    <div class="principal" id="pagterror">
        <div class="contenedor">
            <h1 class="titulo">titulo pelicula principal</h1>
            <h3>
                descripcion
               
            </h3>
            <div class="botones">
                <button class="boton"><i class="fa-solid fa-ticket"></i>¡Compra ya tus entradas!</button>
                <button class="boton"><i class="fas fa-info-circle"></i>Más información</button>
            </div>
        </div>
    </div>
    <!-- Peliculas -->
    <div class="titulo">
        <h1>màs vistos</h1>
    </div>
    <div>
        <div class="peliculas-container">
            <div class="pelicula-mini">
                <div>
                    <div class="caratula">
                        <img src="  "
                           alt="Carátula de la película XXX"><!-- Imagen caratula pelicula-->
                    </div>
                    <div class="container-buttom">
                        <form>
                            <button formaction="https://youtu.be/"
                                formtarget="_blank"><i class="fa-regular fa-circle-play"
                                    style="color: #fcfcfc;"></i> Trailer</button><!-- Link de youtube insertar-->
                        </form>
                    </div>
                </div>
                <div class="container-resumen">
                    <div class="resumen">
                        <h2>Nombre pelicula, <br>Director X</h2>
                        <p>Resumen pelicula o descripcion
                        </p>
                    </div>
                    <div class="duracion-ticket">
                        <div class="duracion">
                            <h3>Duración: X</h3>
                            <div class="borde-genero">
                                <h4>Genero</h4>
                            </div>
                            <h3>Edad permitida</h3>
                        </div>
                        <div class="main-section"><!-- boton-->
                            <button class="first-button"> ¡ Tickets ! <i class="fa-solid fa-ticket"></i></button>
                            <button class="second-button"> <svg viewBox="0 0 24 24" width="20" height="20"
                                    stroke="#ffd300" stroke-width="2" fill="none" stroke-linecap="round"
                                    stroke-linejoin="round" class="css-i6dzq1">
                                    <circle cx="9" cy="21" r="1"></circle>
                                    <circle cx="20" cy="21" r="1"></circle>
                                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6">
                                    </path>
                                </svg> Compra Ahora!</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>








    <!-- Contenedor de películas -->
    <main>
        <div id="movies-container"></div>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const apiKey = 'aba744fe91mshf5416ee73e7a51dp1fb298jsne60bf4933e32';
            const baseURL = 'https://moviesdatabase.p.rapidapi.com/titles?genre=';

            // Función para cargar películas desde la API
            async function cargarPeliculas(genero) {
                const url = `${baseURL}${genero}`;
                const options = {
                    method: 'GET',
                    headers: {
                        'X-RapidAPI-Key': apiKey,
                        'X-RapidAPI-Host': 'moviesdatabase.p.rapidapi.com'
                    }
                };

                try {
                    const response = await fetch(url, options);
                    const data = await response.json();
                    mostrarPeliculas(data.results);
                } catch (error) {
                    console.error(error);
                }
            }

            // Función para mostrar películas en el contenedor
            function mostrarPeliculas(peliculas) {
                const moviesContainer = document.getElementById("movies-container");

                // Limpiar el contenedor antes de agregar nuevas películas
                moviesContainer.innerHTML = "";

                // Iterar sobre las películas y agregarlas al contenedor
                peliculas.forEach(pelicula => {
                    const peliculaHTML = `
                        <div class="pelicula-mini">
                            <div class="caratula">
                                <img src="${pelicula.poster}" alt="Carátula de la película ${pelicula.title}">
                            </div>
                            <div class="container-buttom">
                                <form>
                                    <button formaction="${pelicula.trailer}" formtarget="_blank">
                                        <i class="fa-regular fa-circle-play" style="color: #fcfcfc;"></i> Trailer
                                    </button>
                                </form>
                            </div>
                            <!-- Agrega aquí más detalles de la película según tus necesidades -->
                        </div>
                    `;
                    moviesContainer.innerHTML += peliculaHTML;
                });
            }

            // Manejar el clic en el botón de Drama
            document.getElementById("boton-drama").addEventListener("click", function () {
                cargarPeliculas("Drama");
            });

            // Otros eventos para géneros adicionales...
        });
    </script>

</body>
</html>
